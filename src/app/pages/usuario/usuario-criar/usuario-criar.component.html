<div class="container">
  <mat-card appearance="outlined" class="card">
    <mat-card-header>
      <mat-card-title>Criar</mat-card-title>
    </mat-card-header>
    <mat-divider class="divider"></mat-divider>
    <mat-card-content>
      <form
        [formGroup]="form"
        (ngSubmit)="onCreate()"
        fxLayout="column"
        fxLayoutGap="16px"
      >
        <mat-form-field fxFlex>
          <mat-label>Nome</mat-label>
          <input matInput formControlName="nome" />
        </mat-form-field>

        <mat-form-field fxFlex>
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" />
          @if (form.get('email')?.hasError('email')) {
          <mat-error>Email inválido</mat-error>}
        </mat-form-field>

        <mat-form-field fxFlex>
          <mat-label>Senha</mat-label>
          <input
            matInput
            formControlName="senha"
            matInput
            [type]="hidePassword ? 'password' : 'text'"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="togglePasswordVisibility()"
            type="button"
          >
            <mat-icon>{{
              hidePassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
          @if(form.get('senha')?.hasError('minlength')){
          <mat-error>A senha deve ter pelo menos 6 caracteres</mat-error>}
        </mat-form-field>

        <div fxLayout="column" fxLayoutAlign="center center">
          <button mat-fab extended class="criarButton" type="submit">
            Criar
          </button>
          <div style="margin: 20px">Já tem uma conta?</div>
          <button
            mat-fab
            extended
            class="entrarButton"
            type="button"
            (click)="onLoginAccount()"
          >
            Entrar
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
